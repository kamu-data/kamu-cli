[test-groups]
setup = { max-threads = 1 }  # Serialize the setup steps
containerized = { max-threads = 8 }  # Don't use too much memory
engine = { max-threads = 2 }  # Engine tests are very memory-hungry

[[profile.default.overrides]]
filter = "test(::setup::)"
test-group = "setup"

[[profile.default.overrides]]
filter = "test(::containerized::)"
test-group = "containerized"

[[profile.default.overrides]]
filter = "test(::engine::)"
test-group = "engine"

[[profile.default.overrides]]
filter = 'test(::flaky::)'
retries = 3
